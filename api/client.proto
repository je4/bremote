syntax = "proto3";

package info_age.bremote;

import "google/protobuf/empty.proto";
import "types.proto";

option go_package="api";
//option php_namespace="mediaserver";
option java_package = "net.info-age.bremote.client";

message BrowserInitFlag {
	string Name = 1;
	oneof value {
		string strval = 2;
		bool bval = 3;
	}
}

message NavigateParam {
	string Url = 1;
	string NextStatus = 2;
}

message BrowserInitFlags {
	repeated BrowserInitFlag flags = 1;
}

service ClientService {
	rpc Ping( String ) returns ( String ) {};
	rpc StartBrowser( BrowserInitFlags ) returns ( google.protobuf.Empty ) {};
	rpc Navigate( NavigateParam ) returns ( google.protobuf.Empty ) {};
	rpc ShutdownBrowser( google.protobuf.Empty ) returns ( google.protobuf.Empty ) {};
	rpc GetStatus( google.protobuf.Empty ) returns ( String ) {};
	rpc SetStatus( String ) returns ( google.protobuf.Empty ) {};
	rpc WSMessage( WebSocketParam ) returns ( google.protobuf.Empty ) {};
}
